package cpu6502

import (
	"testing"
)

func TestBCC(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0x38, 0x69, 0x01, 0x90, 0x03, 0x4c, 0x00, 0x00, 0x85, 0xf0},
			A:    uint8(0x02),
			SP:   uint8(0xff),
			PC:   uint16(0x0a),
			Flag: 0b00100000,
			End:  uint16(0x0a),
		},
	}
	ProgramTest(t, tests)
}

func TestBCS(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0xff, 0x69, 0x01, 0xb0, 0x03, 0x4c, 0x02, 0x00, 0x85, 0xf0},
			A:    uint8(0x00),
			PC:   uint16(0x09),
			SP:   uint8(0xff),
			Flag: 0b00100011,
			End:  uint16(0x09),
		},
	}
	ProgramTest(t, tests)
}

func TestBEQ(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0xff, 0x69, 0x01, 0xf0, 0x03, 0x4c, 0x02, 0x00, 0x85, 0xf0},
			A:    uint8(0x00),
			PC:   uint16(0x09),
			SP:   uint8(0xff),
			Flag: 0b00100011,
			End:  uint16(0x09),
		},
	}
	ProgramTest(t, tests)
}
func TestBNI(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0x0f, 0x69, 0x01, 0x30, 0x03, 0x4c, 0x02, 0x00, 0xa9, 0x00},
			SP:   0xFF,
			A:    0x00,
			PC:   0x0B,
			End:  0x0B,
			Flag: 0b01100010,
		},
	}
	ProgramTest(t, tests)
}
func TestBNE(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0x01, 0xd0, 0x03, 0x4c, 0x02, 0x00, 0xa9, 0x00},
			SP:   0xFF,
			A:    0x00,
			PC:   0x09,
			End:  0x09,
			Flag: 0b00100010,
		},
	}
	ProgramTest(t, tests)
}
func TestBPL(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0xff, 0xe9, 0x01, 0x10, 0x03, 0x4c, 0x02, 0x00, 0xa9, 0x00},
			SP:   0xFF,
			A:    0x00,
			PC:   0x0B,
			End:  0x0B,
			Flag: 0b01100011,
		},
	}
	ProgramTest(t, tests)
}

func TestBVC(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0x01, 0x50, 0x03, 0x4c, 0x02, 0x00, 0xa9, 0x00},
			SP:   0xFF,
			A:    0x00,
			PC:   0x09,
			End:  0x09,
			Flag: 0b00100010,
		},
	}
	ProgramTest(t, tests)
}

func TestBVS(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0x01, 0x69, 0x01, 0x70, 0x03, 0x4c, 0x02, 0x00, 0xa9, 0x00},
			SP:   0xFF,
			A:    0x00,
			PC:   0x0B,
			End:  0x0B,
			Flag: 0b01100010,
		},
	}
	ProgramTest(t, tests)
}

func TestJSR(t *testing.T) {
	tests := []Cputest{
		{
			Prg:  []uint8{0xa9, 0xa9, 0x8d, 0xf0, 0x06, 0xa9, 0x45, 0x8d, 0xf1, 0x06, 0xa9, 0x00, 0x20, 0xf0, 0x06},
			A:    0x45,
			SP:   0xFD,
			Flag: 0b00100000,
			PC:   0x6f2,
			End:  0x6f2,
		},
	}
	ProgramTest(t, tests)
}

/*
func TestRTS(t *testing.T) {
	tests := []Cputest{
		{
			Prg: []uint8{},
		},
	}
	ProgramTest(t, tests)
}
*/
